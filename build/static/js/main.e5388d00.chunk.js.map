{"version":3,"sources":["components/Form.js","components/Filter.js","services/phonebook.js","components/Notification.js","components/Persons.js","App.js","index.js"],"names":["Form","props","onSubmit","handleAddP","value","newNm","onChange","handleNmChange","newNumb","handleNumbChange","type","Filter","onValueChange","baseUrl","getAll","a","request","axios","get","response","data","create","newObject","post","update","id","put","remove","delete","Notification","message","style","console","log","className","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","position","top","Persons","useState","setMessage","persons","setPersons","filteredPersons","setfiltedPersons","useEffect","contacts","filter","person","name","toLowerCase","includes","filterText","map","filteredPerson","i","key","number","onClick","deletedPerson","window","confirm","phonebook","then","returnedPersons","n","setTimeout","catch","_error","App","initialPhonebook","length","messageStyle","setMessagestyle","newName","setNewName","newNumber","setNewNumber","setFilter","event","target","preventDefault","nameObject","contains","find","nameOb","hasDiffNum","alert","returnedUpdatedPerson","currentPhonebook","returnPerson","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e5388d00.chunk.js","sourcesContent":["import React from 'react'\n\nconst Form = (props) => {\n  return (\n    <form onSubmit={props.handleAddP}>\n      <div>\n          Name: <input value={props.newNm} onChange={props.handleNmChange} />\n      </div>\n      <div>\n          Number: <input value={props.newNumb} onChange={props.handleNumbChange} />\n      </div>\n      <div>\n        <button type='submit'>add</button>\n      </div>\n    </form>\n  )\n}\nexport default Form\n","import React from 'react'\n\nconst Filter = (props) => {\n  return (\n    <div>\n        Filter shown with: <input value={props.value} onChange={props.onValueChange} />\n    </div>\n  )\n}\nexport default Filter\n","import axios from 'axios'\nconst baseUrl = '/api/persons' // 'http://localhost:3001/persons'\n\nconst getAll = async () => {\n  const request = axios.get(baseUrl)\n  const response = await request\n  return response.data\n}\n\nconst create = async newObject => {\n  const request = axios.post(baseUrl, newObject)\n  const response = await request\n  return response.data\n}\n\nconst update = async (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  const response = await request\n  return response.data\n}\n\nconst remove = async (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  const response = await request\n  return response.data\n}\n\nexport default { getAll, create, update, remove }\n","import React from 'react'\n\nconst Notification = ({ message, style }) => {\n  const errorStyle = {\n    position: 'absolute',\n    top: 0,\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  const addStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  console.log('messageStyle', style)\n  if (message === null) {\n    return null\n  }\n  return (<div className='error' style={style === 'add' ? addStyle : errorStyle}>{message} </div>)\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport phonebook from '../services/phonebook'\nimport Notification from './Notification'\n\nconst Persons = (props) => {\n  const [message, setMessage] = useState(null)\n  const messageStyle = {}\n  // const [messageStyle, setMessagestyle] = useState('')\n  const [persons, setPersons] = useState([])\n  const [filteredPersons, setfiltedPersons] = useState([])\n  useEffect(() => {\n    setPersons(props.contacts)\n  }, [props.contacts])\n\n  useEffect(() => {\n    const filteredPersons = persons.filter(person => person.name\n      .toLowerCase()\n      .includes(props.filterText.toLowerCase()))\n    setfiltedPersons(filteredPersons)\n  }, [persons, props.filterText])\n\n  const handleDelete = (deletedPerson) => {\n    console.log('deletedPerson', deletedPerson)\n    if (window.confirm(`Delete ${deletedPerson.name}?`)) {\n      phonebook\n        .remove(deletedPerson.id)\n        .then(returnedPersons => {\n          console.log('returnedPersons', returnedPersons)\n          setPersons(persons.filter(n => n.id !== deletedPerson.id))\n          setMessage(`${deletedPerson.name} has been deleted.`)\n          setTimeout(() => { setMessage(null) }, 5000)\n        }).catch(_error => {\n          setPersons(persons.filter(n => n.id !== deletedPerson.id))\n          setMessage(`${deletedPerson.name} was already deleted from server.`)\n          setTimeout(() => { setMessage(null) }, 5000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <Notification message={message} style={messageStyle} />\n      <ul>\n        {filteredPersons\n          .map((filteredPerson, i) =>\n            <li key={i}> {filteredPerson.name} {filteredPerson.number}\n              <button onClick={() => handleDelete(filteredPerson)}> Delete </button>\n            </li>)}\n      </ul>\n    </div>\n  )\n}\nexport default Persons\n","import React, { useState, useEffect } from 'react'\nimport Form from './components/Form'\nimport Filter from './components/Filter'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport phonebook from './services/phonebook'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  useEffect(() => {\n    console.log('effect')\n    phonebook\n      .getAll()\n      .then(initialPhonebook => {\n        console.log('promise fulfilled')\n        setPersons(initialPhonebook)\n      })\n  }, [])\n  console.log('sent', persons.length, 'persons for rendring')\n\n  const [message, setMessage] = useState(null)\n  const [messageStyle, setMessagestyle] = useState('')\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n  const handleFilterChange = (event) => {\n    console.log(event.target.value)\n    setFilter(event.target.value)\n  }\n\n  const handleAddPerson = (event) => {\n    event.preventDefault()\n    const nameObject = { name: newName, number: newNumber }\n    const contains = persons.find(nameOb =>\n      nameOb.name === newName &&\n      nameOb.number === newNumber)\n    const hasDiffNum = persons.find(nameOb =>\n      nameOb.name === newName &&\n      nameOb.number !== newNumber &&\n      newNumber !== '')\n    if (contains) { window.alert(`${newName} is already added to phonebook.`) } else if (hasDiffNum) {\n      if (window.confirm(\n      `${newName} is already in phonebook, do you want to replace the old number with the new number?`)) {\n        phonebook\n          .update(hasDiffNum.id, nameObject)\n          .then(returnedUpdatedPerson => {\n            setNewName('')\n            setNewNumber('')\n            setMessage(`${nameObject.name} has been updated`)\n            setMessagestyle('add')\n            setTimeout(() => { setMessage(null) }, 5000)\n            phonebook\n              .getAll()\n              .then(currentPhonebook => {\n                console.log('promise fulfilled')\n                setPersons(currentPhonebook)\n              })\n          }).catch(_error => {\n            setMessage(`${nameObject.name} is no longer in the Phonebook.`)\n            setTimeout(() => { setMessage(null) }, 5000)\n            setNewName('')\n            setNewNumber('')\n            phonebook\n              .getAll()\n              .then(currentPhonebook => {\n                console.log('promise fulfilled')\n                setPersons(currentPhonebook)\n              })\n          })\n      } else { window.alert('Please enter new number.') }\n    } else if (newName !== '' && newNumber !== '') {\n      phonebook\n        .create(nameObject)\n        .then(returnPerson => {\n          console.log('promise fulfilled')\n          setNewName('')\n          setNewNumber('')\n          setMessage(`Added ${nameObject.name}`)\n          setMessagestyle('add')\n          setTimeout(() => { setMessage(null) }, 5000)\n          phonebook\n            .getAll()\n            .then(currentPhonebook => {\n              console.log('promise fulfilled')\n              setPersons(currentPhonebook)\n            })\n        })\n    } else { window.alert('You have not entered the name or the number.') }\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} style={messageStyle} />\n      <Filter value={filter} onValueChange={handleFilterChange} />\n      <h2>Add new number</h2>\n      <Form handleAddP={handleAddPerson} newNm={newName} handleNmChange={handleNameChange} newNumb={newNumber} handleNumbChange={handleNumberChange} />\n      <h2>Numbers</h2>\n      <Persons contacts={persons} filterText={filter} />\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)"],"sourceRoot":""}